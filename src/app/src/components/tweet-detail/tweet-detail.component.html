<div class="top">
    <h1>Tweet</h1>
</div>
<article class="tweet">
    <header class="tweet__header">
        <div class="header__top">
            <img class="header__avatar" [src]="getFile(clickedTweet()!.avatar)" alt="avatar"/>
            <div class="header__names">
                <span class="name">{{ clickedTweet()!.name }}</span>
                <span class="username">{{'@' + clickedTweet()!.username}}</span>
            </div>
        </div>
        <div class="tweet__content">
            <p>{{ clickedTweet()!.content }}</p>
            @if (clickedTweet()!.image) {
                <img [src]="getFile(clickedTweet()!.image!)" alt="Tweet Image">
            }
        </div>
        <span class="header__date">{{ clickedTweet()!.date | date:'h:mm a'}} {{ clickedTweet()!.date | date:'MMM d, y' | lowercase}}</span>
    </header>
    <footer class="tweet__actions">
        <div class="action" id="action__comment">
            <div class="icon">
                <svg width="15" height="15" viewBox="0 0 15 15" fill="currentColor">
                    <path d="M13.2666 0.166687H2.06663C1.29663 0.166687 0.666626 0.826687 0.666626 1.63335V14.8334L3.46663 11.9H13.2666C14.0366 11.9 14.6666 11.24 14.6666 10.4334V1.63335C14.6666 0.826687 14.0366 0.166687 13.2666 0.166687ZM12.5666 10.4334H3.46663L2.06663 11.9V2.36669C2.06663 1.96335 2.38163 1.63335 2.76663 1.63335H12.5666C12.9516 1.63335 13.2666 1.96335 13.2666 2.36669V9.70002C13.2666 10.1034 12.9516 10.4334 12.5666 10.4334Z"/>
                </svg>
            </div>                
            <span>{{clickedTweet()!.comments}}</span>
        </div>

        <div class="action" id="action__retweet" (click)="retweet(); $event.stopPropagation()" [class.retweeted]="retweeted">
            <div class="icon" >
                <svg width="12" height="13" viewBox="0 0 12 13" fill="none">
                    <path d="M2.66668 3.16667H9.33335V4.36C9.33335 4.66 9.69335 4.80667 9.90001 4.59334L11.76 2.73333C11.8933 2.6 11.8933 2.39333 11.76 2.26L9.90001 0.400001C9.69335 0.193334 9.33335 0.340001 9.33335 0.640001V1.83333H2.00001C1.63335 1.83333 1.33335 2.13333 1.33335 2.5V5.16667C1.33335 5.53333 1.63335 5.83333 2.00001 5.83333C2.36668 5.83333 2.66668 5.53333 2.66668 5.16667V3.16667ZM9.33335 9.83333H2.66668V8.64C2.66668 8.34 2.30668 8.19333 2.10001 8.40667L0.240015 10.2667C0.106681 10.4 0.106681 10.6067 0.240015 10.74L2.10001 12.6C2.30668 12.8067 2.66668 12.66 2.66668 12.36V11.1667H10C10.3667 11.1667 10.6667 10.8667 10.6667 10.5V7.83333C10.6667 7.46667 10.3667 7.16667 10 7.16667C9.63335 7.16667 9.33335 7.46667 9.33335 7.83333V9.83333Z" fill="currentColor"/>
                </svg>                    
            </div>                               
            <span>{{clickedTweet()!.retweets}}</span>
        </div>
        <div class="action" id="action__like" (click)="like(); $event.stopPropagation()" [class.liked]="liked">
            <div class="icon">
                @if(liked){
                    <svg width="14" height="13" fill="currentColor" id="svgcontent"><rect id="backgroundrect" width="100%" height="100%" x="0" y="0" fill="none" stroke="none"></rect>
                       <path d="M11.61276589343071,0.9053358934307099 C9.85276589343071,-0.2946641065692901 7.67947589343071,0.2653358934307098 6.50614589343071,1.63866589343071 C5.33281589343071,0.2653358934307098 3.15947589343071,-0.30133410656929016 1.3994758934307099,0.9053358934307099 C0.46614589343070983,1.5453358934307098 -0.12051410656929018,2.62533589343071 -0.16051410656929022,3.7653358934307097 C-0.2538541065692903,6.35200589343071 2.03947589343071,8.42533589343071 5.53947589343071,11.60532589343071 L5.60614589343071,11.66532589343071 C6.11281589343071,12.125325893430709 6.8928158934307096,12.125325893430709 7.39947589343071,11.65862589343071 L7.47281589343071,11.59202589343071 C10.97276589343071,8.41866589343071 13.25946589343071,6.34533589343071 13.17276589343071,3.75866589343071 C13.13276589343071,2.62533589343071 12.54616589343071,1.5453358934307098 11.61276589343071,0.9053358934307099 zM6.57281589343071,10.61202589343071 L6.50614589343071,10.67862589343071 L6.43947589343071,10.61202589343071 C2.69471589343071,7.82029589343071 5.66261589343071,12.042745893430709 5.66261589343071,10.11608589343071 C5.66261589343071,8.78274589343071 2.8060058934307097,7.53785589343071 3.2612458934307096,8.51744589343071 C3.71648589343071,9.49703589343071 4.79812589343071,10.64682589343071 6.04941589343071,10.82547589343071 L7.13281589343071,10.82547589343071 C11.72437589343071,6.89172589343071 10.683555893430709,6.39499589343071 11.71022589343071,6.39499589343071 C13.04354589343071,6.39499589343071 11.83946589343071,2.57866589343071 11.83946589343071,3.91200589343071 C11.83946589343071,5.83866589343071 9.74616589343071,7.73866589343071 6.57281589343071,10.61202589343071 z" fill="currrentColor" id="svg_1" class=""></path>
                    </svg>
                }
                @else {
                    <svg width="14" height="13" viewBox="0 0 14 13">
                        <path d="M12.1066 1.16001C10.3466 -0.0399911 8.17331 0.520009 6.99998 1.89334C5.82665 0.520009 3.65331 -0.0466578 1.89331 1.16001C0.959979 1.80001 0.373313 2.88001 0.333313 4.02001C0.239979 6.60668 2.53331 8.68001 6.03331 11.86L6.09998 11.92C6.60665 12.38 7.38665 12.38 7.89331 11.9133L7.96665 11.8467C11.4666 8.67334 13.7533 6.60001 13.6666 4.01334C13.6266 2.88001 13.04 1.80001 12.1066 1.16001ZM7.06665 10.8667L6.99998 10.9333L6.93331 10.8667C3.75998 7.99334 1.66665 6.09334 1.66665 4.16668C1.66665 2.83334 2.66665 1.83334 3.99998 1.83334C5.02665 1.83334 6.02665 2.49334 6.37998 3.40668H7.62665C7.97331 2.49334 8.97331 1.83334 9.99998 1.83334C11.3333 1.83334 12.3333 2.83334 12.3333 4.16668C12.3333 6.09334 10.24 7.99334 7.06665 10.8667Z" fill="currentColor"/>
                    </svg>
                }
            </div>                             
            <span>{{clickedTweet()!.likes}}</span>
        </div>

    </footer>
</article>
<div class="myComment">

    <picture class="myComment__avatar">
        <img [src]="getFile('myAvatar')">
    </picture>

    <span ngDefaultControl class="myComment__textarea" contenteditable="true" (input)="handleCommentChange($event)"></span>
    <button [class]="myCommentText.length > 0 ? 'activeButton' : 'disabledButton'">Comment</button>
</div>
<app-comments (onClickedComment)="resetButtons()"></app-comments>